# 一、概述
1. 越权漏洞是web程序中一种常见的安全漏洞。它的威胁在于一个账户即可控制全站用户数据。越权漏洞的主要原因是因为开发人员在对数据进行增删改查时对客户端请求的数据过分相信而遗漏了权限的判定。属于逻辑漏洞的一种，防护和检测都不好做
# 二、越权漏洞的分类
1. 水平越权
	- 最重要的是要找有id控制的功能点。如地址、各种券、订单、评价、评论、商家后台等
	- url和数据包中各种表示用户、产品、文件等身份的参数，如user/xxx、userid/xxx、{userid: 123}等
2. 垂直越权
	- 低权限访问高权限功能
	- 高（低）权限抓包功能点，替换低（高）权限凭证
# 三、越权绕过
1. 数组绕过
	```json
	{"id":111}——>{"id":[111]}
```
2. json绕过
	```json
	{"id":111}——>{"id":{"id":111}}
```
3. 参数污染
	```http
	url?id=<正常>&id=<越权id>
	url?id=<正常>%26id=<越权id>   %26是&，urldecode转发到后端就变成了上面那样
```
4. 通配符
```json
{"user_id":"*"}
```
5. id垂直越权
```
users/01 ——> /user/02
```
6. 替换旧版api
```
/api/v3/users/01 ——>/api/v1/user2/02
```
7. 添加后缀
```
/users/01 ——> /users/02.json
```
8. 更改请求方式
9. 检查referer或其他的headers参数是否被用于用户权限的鉴定
10. 用数字或邮箱替换guid
11. 尝试如下guids
```
000000-000-000-0000000
```
